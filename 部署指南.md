
## ⚙️ 安装配置

### 1. 环境准备
```bash
# 检查Python版本
python --version  # 需要3.8+

# 克隆或下载项目到本地
cd "C:\\Users\\Administrator\\Desktop\\MCP SERVER"
```

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 配置DeepSeek API密钥

#### 方法一：使用配置助手（推荐）
```bash
python configure_api.py
# 按提示输入API密钥
```

#### 方法二：手动编辑配置文件
编辑 `deepseekkey.txt` 文件：
```ini
# DeepSeek API 配置文件
base_url: https://api.deepseek.com
api_token: sk-your-deepseek-api-key-here  # 替换为实际的API密钥
timeout: 60
max_retries: 3
```

#### 获取API密钥步骤：
1. 访问 [DeepSeek平台](https://platform.deepseek.com)
2. 注册/登录账户
3. 进入API密钥管理页面
4. 创建新的API密钥
5. 复制密钥（格式：sk-xxxxxxxxxx）

### 4. 准备数据文件
将降雨量数据文件放入 `data/` 目录，支持格式：
- **.xlsx** 文件（Excel电子表格）
- **.txt** 文件（制表符分隔）
- **.csv** 文件（逗号分隔）

#### 数据文件格式要求
数据文件应包含以下列：
| 列名 | 描述 | 示例 |
|------|------|------|
| date | 日期 | 2024年1月1日 或 2024-01-01 |
| region | 地区/站点 | 东川站 |
| rainfall | 降雨量(mm) | 15.5 |

---

## 🎮 使用方法

### 方式一：Web界面操作（推荐）

#### 1. 启动服务
```bash
# 一键启动（推荐）
start_all.bat

# 或手动启动Web服务器
python web_server.py
```

#### 2. 访问界面
- **本地**: http://localhost:8081
- **局域网**: http://[您的IP地址]:8081

#### 3. 功能使用
1. **状态监控** - 页面加载时自动检查所有状态
2. **基本数据查询** - 设置文件、记录数进行查询
3. **AI智能分析** - 输入问题获得智能分析结果
4. **统计摘要** - 生成全面的数据统计报告
5. **极端事件检测** - 识别异常强降雨事件
6. **系统控制** - 检查服务器状态、测试AI连接

### 方式二：MCP客户端连接

#### 1. 启动MCP服务器
```bash
python start_server.py
```

#### 2. 配置MCP客户端
在Claude Desktop或其他MCP客户端中添加服务器配置

#### 3. 使用MCP工具
客户端会自动发现并可以调用7个可用工具

---